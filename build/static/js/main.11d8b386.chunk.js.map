{"version":3,"sources":["components/Navigation/Navigation.js","components/AuthNav/AuthNav.js","components/UserMenu/UserMenu.js","components/AppBar/AppBar.js","components/Container/Container.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/phonebook/phonebook-reducer.js","redux/store.js","index.js","redux/phonebook/phonebook-actions.js","components/UserMenu/UserMenu.module.css","components/UserMenu/default-avatar.png","redux/auth/auth-actions.js","redux/auth/auth-reducer.js","redux/auth/auth-operations.js","redux/auth/auth-selectors.js"],"names":["connect","state","isAuthenticated","authSelectors","getIsAuthenticated","Nav","className","Link","href","AuthNav","mapDispatchToProps","onLogout","authOperations","logOut","name","getUsername","avatar","defaultAvatar","styles","container","src","alt","width","Button","variant","type","size","onClick","style","margin","display","opacity","Navbar","expand","backgroundColor","Container","children","Component","component","redirectTo","routeProps","render","props","to","restricted","HomeView","lazy","RegisterView","LoginView","ContactsView","App","this","onGetCurrentUser","fallback","exact","path","getCurrentUser","items","createReducer","contactsActions","fetchContactsSuccess","payload","addContactSuccess","removeContactSuccess","filter","id","filterContacts","loading","addContactRequest","addContactError","fetchContactsRequest","fetchContactsError","removeContactRequest","removeContactError","combineReducers","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","auth","persistReducer","authReducer","contacts","contactsReducer","devTools","process","persistor","persistStore","ReactDOM","StrictMode","document","getElementById","createAction","module","exports","registerRequest","registerSuccess","registerError","loginRequest","loginSuccess","loginError","logoutRequest","logoutSuccess","logoutError","getCurrentUserRequest","getCurrentUserSuccess","getCurrentUserError","initialUserState","email","user","authActions","_","token","error","axios","defaults","baseURL","headers","common","Authorization","register","credentials","dispatch","a","post","response","data","message","logIn","getState","persistedToken","get"],"mappings":"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","file":"static/js/main.11d8b386.chunk.js","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { authSelectors } from '../../redux/auth';\nimport { Nav } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst Navigation = ({ isAuthenticated }) => (\n  <Nav className=\"mr-auto\">\n    <Nav.Link href=\"/\">Main</Nav.Link>\n    {isAuthenticated && <Nav.Link href=\"/contacts\">Contacts</Nav.Link>}\n  </Nav>\n);\n\nconst mapStateToProps = state => ({\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\n});\nexport default connect(mapStateToProps)(Navigation);\n","import React from 'react';\nimport '../../styles/base.scss';\nimport { Nav } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst AuthNav = () => (\n  <Nav className=\"mr-sm-2\">\n    <Nav.Link href=\"/register\">Registration</Nav.Link>\n    <Nav.Link href=\"/login\">Login</Nav.Link>\n  </Nav>\n);\n\nexport default AuthNav;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { authSelectors, authOperations } from '../../redux/auth';\nimport defaultAvatar from './default-avatar.png';\nimport styles from './UserMenu.module.css';\nimport Button from 'react-bootstrap/Button';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst UserMenu = ({ avatar, name, onLogout }) => (\n  <div className={styles.container}>\n    <img src={avatar} alt=\"\" width=\"32\" className={styles.avatar} />\n    <span className={styles.name}>Welcome, {name}</span>\n\n    <Button\n      variant=\"outline-dark\"\n      type=\"button\"\n      size=\"sm\"\n      onClick={onLogout}\n      style={{ margin: '0 auto', display: 'block', opacity: '0.7' }}\n    >\n      Log Out\n    </Button>\n  </div>\n);\nconst mapStateToProps = state => ({\n  name: authSelectors.getUsername(state),\n  avatar: defaultAvatar,\n});\n\nconst mapDispatchToProps = {\n  onLogout: authOperations.logOut,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\n","import React from 'react';\nimport Navigation from '../Navigation';\nimport AuthNav from '../AuthNav';\nimport UserMenu from '../UserMenu';\nimport { connect } from 'react-redux';\nimport { authSelectors } from '../../redux/auth';\nimport { Navbar } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst AppBar = ({ isAuthenticated }) => {\n  return (\n    <Navbar\n      expand=\"lg\"\n      style={{\n        backgroundColor: 'rgb(255, 255, 255, 0.8)',\n      }}\n    >\n      <Navigation />\n      {isAuthenticated ? <UserMenu /> : <AuthNav />}\n    </Navbar>\n  );\n};\n\nconst mapStateToProps = state => ({\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\n});\n\nexport default connect(mapStateToProps)(AppBar);\n","import React from 'react';\nimport './Container.scss';\n\nconst Container = ({ children }) => <div className=\"Container\">{children}</div>;\n\nexport default Container;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { authSelectors } from '../redux/auth';\n\n/**\n * - Если маршрут приватный и пользователь залогинен, рендерит компонент\n * - В противном случае рендерит Redirect на /login\n */\nconst PrivateRoute = ({\n  component: Component,\n  isAuthenticated,\n  redirectTo,\n  ...routeProps\n}) => (\n  <Route\n    {...routeProps}\n    render={props =>\n      isAuthenticated ? <Component {...props} /> : <Redirect to={redirectTo} />\n    }\n  />\n);\n\nconst mapStateToProps = state => ({\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\n});\n\nexport default connect(mapStateToProps)(PrivateRoute);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { authSelectors } from '../redux/auth';\n\n/**\n * - Если маршрут ограниченный, и пользователь залогинен, рендерит редирект на /todos\n * - В противном случае рендерит компонент\n */\nconst PublicRoute = ({\n  component: Component,\n  isAuthenticated,\n  redirectTo,\n  ...routeProps\n}) => (\n  <Route\n    {...routeProps}\n    render={props =>\n      isAuthenticated && routeProps.restricted ? (\n        <Redirect to={redirectTo} />\n      ) : (\n        <Component {...props} />\n      )\n    }\n  />\n);\n\nconst mapStateToProps = state => ({\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\n});\n\nexport default connect(mapStateToProps)(PublicRoute);\n","import React, { Component, Suspense, lazy } from 'react';\nimport './styles/base.scss';\nimport { Switch } from 'react-router-dom';\nimport AppBar from './components/AppBar';\nimport Container from './components/Container';\nimport { authOperations } from './redux/auth';\nimport { connect } from 'react-redux';\nimport PrivateRoute from './components/PrivateRoute';\nimport PublicRoute from './components/PublicRoute';\n\nconst HomeView = lazy(() => import('./views/HomeView'));\nconst RegisterView = lazy(() => import('./views/RegisterView'));\nconst LoginView = lazy(() => import('./views/LoginView'));\nconst ContactsView = lazy(() => import('./views/ContactsView'));\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.onGetCurrentUser();\n  }\n  render() {\n    return (\n      <Container>\n        <AppBar />\n\n        <Suspense fallback={<p>Loading...</p>}>\n          <Switch>\n            <PublicRoute exact path=\"/\" component={HomeView} />\n            <PublicRoute\n              path=\"/register\"\n              restricted\n              redirectTo=\"/contacts\"\n              component={RegisterView}\n            />\n            <PublicRoute\n              path=\"/login\"\n              component={LoginView}\n              restricted\n              redirectTo=\"/contacts\"\n            />\n            <PrivateRoute\n              path=\"/contacts\"\n              component={ContactsView}\n              redirectTo=\"/login\"\n            />\n          </Switch>\n        </Suspense>\n      </Container>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  onGetCurrentUser: authOperations.getCurrentUser,\n};\nexport default connect(null, mapDispatchToProps)(App);\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport contactsActions from './phonebook-actions';\n\nconst addContact = (state, { payload }) => [...state, payload];\n\nconst deleteContact = (state, { payload }) => {\n  return state.filter(({ id }) => id !== payload);\n};\n\nconst items = createReducer([], {\n  [contactsActions.fetchContactsSuccess]: (state, { payload }) => payload,\n  [contactsActions.addContactSuccess]: addContact,\n  [contactsActions.removeContactSuccess]: deleteContact,\n});\n\nconst filter = createReducer('', {\n  [contactsActions.filterContacts]: (state, { payload }) => payload,\n});\n\nconst loading = createReducer(false, {\n  [contactsActions.addContactRequest]: () => true,\n  [contactsActions.addContactSuccess]: () => false,\n  [contactsActions.addContactError]: () => false,\n  [contactsActions.fetchContactsRequest]: () => true,\n  [contactsActions.fetchContactsSuccess]: () => false,\n  [contactsActions.fetchContactsError]: () => false,\n  [contactsActions.removeContactRequest]: () => true,\n  [contactsActions.removeContactSuccess]: () => false,\n  [contactsActions.removeContactError]: () => false,\n});\nexport default combineReducers({\n  items,\n  loading,\n  filter,\n});\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\n// import logger from 'redux-logger';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport contactsReducer from './phonebook/phonebook-reducer';\nimport { authReducer } from './auth';\n//\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nconst store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: contactsReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nconst persistor = persistStore(store);\n\nexport default { store, persistor };\n\n// import { configureStore } from '@reduxjs/toolkit';\n// import contactsReducer from './phonebook/phonebook-reducer';\n// import { authReducer } from './auth';\n\n// const store = configureStore({\n//   reducer: { contacts: contactsReducer, auth: authReducer },\n// });\n\n// export default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport store from './redux/store';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Provider store={store.store}>\n        <PersistGate loading={null} persistor={store.persistor}>\n          <App />\n        </PersistGate>\n      </Provider>\n    </BrowserRouter>\n  </React.StrictMode>,\n\n  document.getElementById('root'),\n);\n","import { createAction } from '@reduxjs/toolkit';\n\nconst addContactRequest = createAction('contacts/addRequest');\nconst addContactSuccess = createAction('contacts/addSuccess');\nconst addContactError = createAction('contacts/addError');\n\nconst fetchContactsRequest = createAction('contacts/fetchRequest');\nconst fetchContactsSuccess = createAction('contacts/fetchSuccess');\nconst fetchContactsError = createAction('contacts/fetchError');\n\nconst removeContactRequest = createAction('contacts/removeRequest');\nconst removeContactSuccess = createAction('contacts/removeSuccess');\nconst removeContactError = createAction('contacts/removeError');\n\nconst filterContacts = createAction('contacts/filter');\n\nexport default {\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  fetchContactsRequest,\n  fetchContactsSuccess,\n  fetchContactsError,\n  removeContactRequest,\n  removeContactSuccess,\n  removeContactError,\n  filterContacts,\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__GgYhE\",\"avatar\":\"UserMenu_avatar__2e7Jj\",\"name\":\"UserMenu_name__3e8KV\"};","module.exports = \"data:image/png;base64,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\"","import { createAction } from '@reduxjs/toolkit';\n\nconst registerRequest = createAction('auth/registerRequest');\nconst registerSuccess = createAction('auth/registerSuccess');\nconst registerError = createAction('auth/registerError');\n\nconst loginRequest = createAction('auth/loginRequest');\nconst loginSuccess = createAction('auth/loginSuccess');\nconst loginError = createAction('auth/loginError');\n\nconst logoutRequest = createAction('auth/logoutRequest');\nconst logoutSuccess = createAction('auth/logoutSuccess');\nconst logoutError = createAction('auth/logoutError');\n\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\n\nexport default {\n  registerRequest,\n  registerSuccess,\n  registerError,\n  loginRequest,\n  loginSuccess,\n  loginError,\n  logoutRequest,\n  logoutSuccess,\n  logoutError,\n  getCurrentUserRequest,\n  getCurrentUserSuccess,\n  getCurrentUserError,\n};\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport authActions from './auth-actions';\n\nconst initialUserState = { name: null, email: null };\n\nconst user = createReducer(initialUserState, {\n  [authActions.registerSuccess]: (_, { payload }) => payload.user,\n  [authActions.loginSuccess]: (_, { payload }) => payload.user,\n  [authActions.logoutSuccess]: () => initialUserState,\n  [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\n});\nconst token = createReducer(null, {\n  [authActions.registerSuccess]: (_, { payload }) => payload.token,\n  [authActions.loginSuccess]: (_, { payload }) => payload.token,\n  [authActions.logoutSuccess]: () => null,\n});\nconst error = createReducer(null, {\n  [authActions.registerError]: (_, { payload }) => payload,\n  [authActions.loginError]: (_, { payload }) => payload,\n  [authActions.logoutError]: (_, { payload }) => payload,\n  [authActions.getCurrentUserError]: (_, { payload }) => payload,\n});\n\nconst isAuthenticated = createReducer(false, {\n  [authActions.registerSuccess]: () => true,\n  [authActions.loginSuccess]: () => true,\n  [authActions.getCurrentUserSuccess]: () => true,\n  [authActions.registerError]: () => false,\n  [authActions.loginError]: () => false,\n  [authActions.getCurrentUserError]: () => false,\n  [authActions.logoutSuccess]: () => false,\n});\nexport default combineReducers({ user, isAuthenticated, token, error });\n","import axios from 'axios';\nimport authActions from './auth-actions';\n\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nconst register = credentials => async dispatch => {\n  dispatch(authActions.registerRequest());\n\n  try {\n    const response = await axios.post('/users/signup', credentials);\n    token.set(response.data.token);\n\n    dispatch(authActions.registerSuccess(response.data));\n  } catch (error) {\n    dispatch(authActions.registerError(error.message));\n  }\n};\n\nconst logIn = credentials => async dispatch => {\n  dispatch(authActions.loginRequest());\n\n  try {\n    const response = await axios.post('/users/login', credentials);\n    token.set(response.data.token);\n    dispatch(authActions.loginSuccess(response.data));\n  } catch (error) {\n    dispatch(authActions.loginError(error.message));\n  }\n};\n\nconst logOut = () => async dispatch => {\n  dispatch(authActions.logoutRequest());\n\n  try {\n    await axios.post('/users/logout');\n    token.unset();\n    dispatch(authActions.logoutSuccess());\n  } catch (error) {\n    dispatch(authActions.logoutError(error.message));\n  }\n};\n\nconst getCurrentUser = () => async (dispatch, getState) => {\n  const {\n    auth: { token: persistedToken },\n  } = getState();\n  if (!persistedToken) {\n    return;\n  }\n  token.set(persistedToken);\n  dispatch(authActions.getCurrentUserRequest());\n  try {\n    const response = await axios.get('/users/current');\n    dispatch(authActions.getCurrentUserSuccess(response.data));\n  } catch (error) {\n    dispatch(authActions.getCurrentUserError(error.message));\n  }\n};\nexport default { register, logIn, logOut, getCurrentUser };\n","const getIsAuthenticated = state => state.auth.isAuthenticated;\nconst getUsername = state => state.auth.user.name;\n\nexport default { getIsAuthenticated, getUsername };\n"],"sourceRoot":""}