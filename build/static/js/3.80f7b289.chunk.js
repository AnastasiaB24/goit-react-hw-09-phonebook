(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{116:function(t,e,n){t.exports={Container:"Container_Container__2f0xo"}},118:function(t,e,n){t.exports={enter:"ContactListItem-fade_enter__3L9LC",enterActive:"ContactListItem-fade_enterActive__3juOu",exit:"ContactListItem-fade_exit__2OvWU",exitActive:"ContactListItem-fade_exitActive__1R0L4"}},119:function(t,e,n){},120:function(t,e,n){},125:function(t,e,n){"use strict";n.r(e);var a=n(48),o=n(49),r=n(51),c=n(50),i=n(0),u=n.n(i),l=n(116),s=n.n(l),m=function(t){var e=t.children;return u.a.createElement("div",{className:s.a.Container},e)},f=n(117),d=n(10),p=n(12),h=n(22),b=n.n(h);b.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var C={addContact:function(t){var e=t.name,n=t.number;return function(t){t(p.a.addContactRequest()),b.a.post("/contacts",{name:e,number:n}).then((function(e){var n=e.data;t(p.a.addContactSuccess(n))})).catch((function(e){return t(p.a.addContactError(e.message))}))}},fetchContacts:function(){return function(t){t(p.a.fetchContactsRequest()),b.a.get("/contacts").then((function(e){var n=e.data;return t(p.a.fetchContactsSuccess(n))})).catch((function(e){return t(p.a.fetchContactsError(e.message))}))}},removeContact:function(t){return function(e){e(p.a.removeContactRequest()),b.a.delete("contacts/".concat(t)).then((function(){return e(p.a.removeContactSuccess(t))})).catch((function(t){return e(p.a.removeContactError(t.message))}))}}},g=n(16),v=function(t){return t.contacts.items},E=function(t){return t.contacts.filter},y=Object(g.a)([v,E],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e)}))})),x={getContacts:v,getLoading:function(t){return t.contacts.loading},getFilter:E,getContactById:Object(g.a)([function(t,e){return e},v],(function(t,e){return e.find((function(e){return e.id===t}))})),getFilteredContacts:y},O=n(129),I=n(124),L=n(113),j=n(53),_=(n(30),n(47),Object(d.b)((function(t,e){var n=x.getContactById(t,e.id);return Object(f.a)({},n)}),(function(t,e){return{onDeleteContact:function(){t(C.removeContact(e.id)),console.log(e.id)}}}))((function(t){t.id;var e=t.name,n=t.number,a=t.onDeleteContact;return u.a.createElement(O.a.Item,null,u.a.createElement(I.a,null,u.a.createElement(L.a,{sm:"9"},u.a.createElement("p",{style:{display:"block",paddingTop:"7px",margin:"auto 0px"}},e," : ",n)),u.a.createElement(L.a,{sm:"3"},u.a.createElement(j.a,{variant:"outline-danger",type:"button",onClick:a,style:{opacity:"0.7"}},"Delete"))))}))),k=n(127),w=n(126),S=n(118),A=n.n(S),N=Object(d.b)((function(t){return{contacts:x.getFilteredContacts(t)}}))((function(t){var e=t.contacts;return e.length>0&&u.a.createElement(k.a,{component:O.a,variant:"flush"},e.map((function(t){var e=t.id;return u.a.createElement(w.a,{key:e,timeout:250,classNames:A.a},u.a.createElement(_,{id:e}))})))})),F=n(4),P=n(121),q={position:"absolute",top:"5px",right:"20px",padding:"5px"},D=function(t){var e=t.message;return u.a.createElement(P.a,{variant:"danger",style:q},e)},R=(n(119),n(114)),V=function(t){Object(r.a)(n,t);var e=Object(c.a)(n);function n(){var t;Object(a.a)(this,n);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:"",notification:"",notificationIsVisible:!1},t.handleInputChange=function(e){var n=e.currentTarget,a=n.name,o=n.value;t.setState(Object(F.a)({},a,o))},t.handleSubmit=function(e){var n=t.state,a=n.name,o=n.number,r=t.props.contacts;e.preventDefault(),""!==a?""!==o?r.some((function(t){return a.toLowerCase()===t.name.toLowerCase()}))?t.setState({notification:'Contact "'.concat(a,'" is already exist'),notificationIsVisible:!0}):r.some((function(t){return o===t.number}))?t.setState({notification:'Number "'.concat(o,'" is already exist'),notificationIsVisible:!0}):(t.props.onAddContact({name:a,number:o}),t.reset()):alert("Please, add a number"):alert("Please, give a name for new contact")},t.reset=function(){t.setState({name:"",number:""})},t}return Object(o.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.notification,a=e.notificationIsVisible;return u.a.createElement(u.a.Fragment,null,u.a.createElement(w.a,{in:a,timeout:3e3,classNames:"Notification-slideIn",unmountOnExit:!0,onEntered:function(){return t.setState({notificationIsVisible:!1})}},u.a.createElement(D,{message:n}))," ",u.a.createElement(R.a,{autoComplete:"off",onSubmit:this.handleSubmit},u.a.createElement(R.a.Group,{as:I.a,controlId:"formPlaintextEmail"},u.a.createElement(R.a.Label,{column:!0,sm:"3"},"Name:*"),u.a.createElement(L.a,{sm:"9"},u.a.createElement(R.a.Control,{required:!0,type:"text",placeholder:"ex. Anne Hathaway",value:this.state.name,name:"name",onChange:this.handleInputChange}))),u.a.createElement(R.a.Group,{as:I.a,controlId:"formPlaintextPassword"},u.a.createElement(R.a.Label,{column:!0,sm:"3"},"Number:*"),u.a.createElement(L.a,{sm:"9"},u.a.createElement(R.a.Control,{required:!0,type:"number",placeholder:"ex. 0532455678",value:this.state.number,name:"number",onChange:this.handleInputChange}))),u.a.createElement(j.a,{variant:"primary",type:"submit",style:{margin:"0 auto",display:"block",opacity:"0.7"}},"Add contact")))}}]),n}(i.Component),G={onAddContact:C.addContact},T=Object(d.b)((function(t){return{contacts:x.getContacts(t)}}),G)(V),B={onChange:p.a.filterContacts},J=Object(d.b)((function(t){return{value:x.getFilter(t)}}),B)((function(t){var e=t.value,n=t.onChange;return u.a.createElement(R.a.Group,{as:I.a,controlId:"formPlaintextEmail",style:{marginTop:"20px"}},u.a.createElement(R.a.Label,{column:!0,sm:"5"},"Find contact by name"),u.a.createElement(L.a,{sm:"7"},u.a.createElement(R.a.Control,{type:"text",placeholder:"Name",value:e,onChange:function(t){return n(t.target.value)}})))})),U=(n(120),function(){return u.a.createElement(w.a,{in:!0,appear:!0,timeout:250,classNames:"AppName-slideIn",unmountOnExit:!0},u.a.createElement("h2",null,"Phonebook"))}),H=function(t){Object(r.a)(n,t);var e=Object(c.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return u.a.createElement(m,null,u.a.createElement(U,null),u.a.createElement(T,null),u.a.createElement(J,null),u.a.createElement("h2",null,"Contacts"),this.props.isLoading&&u.a.createElement("h2",null,"Loading..."),u.a.createElement(N,null))}}]),n}(i.Component),M={onFetchContacts:C.fetchContacts};e.default=Object(d.b)((function(t){return{isLoadingContact:x.getLoading(t)}}),M)(H)}}]);
//# sourceMappingURL=3.80f7b289.chunk.js.map