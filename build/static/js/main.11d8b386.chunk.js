(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{104:function(e,t,r){},109:function(e,t,r){"use strict";r.r(t);var n,c,a=r(0),o=r.n(a),u=r(20),s=r.n(u),i=r(48),l=r(49),b=r(51),f=r(50),d=(r(47),r(6)),g=r(10),m=r(9),h=r(112),j=(r(30),Object(g.b)((function(e){return{isAuthenticated:m.c.getIsAuthenticated(e)}}))((function(e){var t=e.isAuthenticated;return o.a.createElement(h.a,{className:"mr-auto"},o.a.createElement(h.a.Link,{href:"/"},"Main"),t&&o.a.createElement(h.a.Link,{href:"/contacts"},"Contacts"))}))),O=function(){return o.a.createElement(h.a,{className:"mr-sm-2"},o.a.createElement(h.a.Link,{href:"/register"},"Registration"),o.a.createElement(h.a.Link,{href:"/login"},"Login"))},p=r(69),E=r.n(p),v=r(38),S=r.n(v),C=r(53),A={onLogout:m.a.logOut},U=Object(g.b)((function(e){return{name:m.c.getUsername(e),avatar:E.a}}),A)((function(e){var t=e.avatar,r=e.name,n=e.onLogout;return o.a.createElement("div",{className:S.a.container},o.a.createElement("img",{src:t,alt:"",width:"32",className:S.a.avatar}),o.a.createElement("span",{className:S.a.name},"Welcome, ",r),o.a.createElement(C.a,{variant:"outline-dark",type:"button",size:"sm",onClick:n,style:{margin:"0 auto",display:"block",opacity:"0.7"}},"Log Out"))})),k=r(111),R=Object(g.b)((function(e){return{isAuthenticated:m.c.getIsAuthenticated(e)}}))((function(e){var t=e.isAuthenticated;return o.a.createElement(k.a,{expand:"lg",style:{backgroundColor:"rgb(255, 255, 255, 0.8)"}},o.a.createElement(j,null),t?o.a.createElement(U,null):o.a.createElement(O,null))})),q=(r(104),function(e){var t=e.children;return o.a.createElement("div",{className:"Container"},t)}),V=r(37),y=Object(g.b)((function(e){return{isAuthenticated:m.c.getIsAuthenticated(e)}}))((function(e){var t=e.component,r=e.isAuthenticated,n=e.redirectTo,c=Object(V.a)(e,["component","isAuthenticated","redirectTo"]);return o.a.createElement(d.b,Object.assign({},c,{render:function(e){return r?o.a.createElement(t,e):o.a.createElement(d.a,{to:n})}}))})),J=Object(g.b)((function(e){return{isAuthenticated:m.c.getIsAuthenticated(e)}}))((function(e){var t=e.component,r=e.isAuthenticated,n=e.redirectTo,c=Object(V.a)(e,["component","isAuthenticated","redirectTo"]);return o.a.createElement(d.b,Object.assign({},c,{render:function(e){return r&&c.restricted?o.a.createElement(d.a,{to:n}):o.a.createElement(t,e)}}))})),W=Object(a.lazy)((function(){return r.e(7).then(r.bind(null,128))})),w=Object(a.lazy)((function(){return r.e(6).then(r.bind(null,122))})),I=Object(a.lazy)((function(){return r.e(5).then(r.bind(null,123))})),L=Object(a.lazy)((function(){return Promise.all([r.e(4),r.e(3)]).then(r.bind(null,125))})),T=function(e){Object(b.a)(r,e);var t=Object(f.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return o.a.createElement(q,null,o.a.createElement(R,null),o.a.createElement(a.Suspense,{fallback:o.a.createElement("p",null,"Loading...")},o.a.createElement(d.d,null,o.a.createElement(J,{exact:!0,path:"/",component:W}),o.a.createElement(J,{path:"/register",restricted:!0,redirectTo:"/contacts",component:w}),o.a.createElement(J,{path:"/login",component:I,restricted:!0,redirectTo:"/contacts"}),o.a.createElement(y,{path:"/contacts",component:L,redirectTo:"/login"}))))}}]),r}(a.Component),G={onGetCurrentUser:m.a.getCurrentUser},N=Object(g.b)(null,G)(T),K=(r(106),r(26)),Z=r(36),Q=r(3),H=r(19),D=r(72),F=r.n(D),x=r(4),B=r(7),M=r(12),X=Object(Q.c)([],(n={},Object(x.a)(n,M.a.fetchContactsSuccess,(function(e,t){return t.payload})),Object(x.a)(n,M.a.addContactSuccess,(function(e,t){var r=t.payload;return[].concat(Object(Z.a)(e),[r])})),Object(x.a)(n,M.a.removeContactSuccess,(function(e,t){var r=t.payload;return e.filter((function(e){return e.id!==r}))})),n)),Y=Object(Q.c)("",Object(x.a)({},M.a.filterContacts,(function(e,t){return t.payload}))),P=Object(Q.c)(!1,(c={},Object(x.a)(c,M.a.addContactRequest,(function(){return!0})),Object(x.a)(c,M.a.addContactSuccess,(function(){return!1})),Object(x.a)(c,M.a.addContactError,(function(){return!1})),Object(x.a)(c,M.a.fetchContactsRequest,(function(){return!0})),Object(x.a)(c,M.a.fetchContactsSuccess,(function(){return!1})),Object(x.a)(c,M.a.fetchContactsError,(function(){return!1})),Object(x.a)(c,M.a.removeContactRequest,(function(){return!0})),Object(x.a)(c,M.a.removeContactSuccess,(function(){return!1})),Object(x.a)(c,M.a.removeContactError,(function(){return!1})),c)),z=Object(B.c)({items:X,loading:P,filter:Y}),_=Object(Z.a)(Object(Q.d)({serializableCheck:{ignoredActions:[H.a,H.f,H.b,H.c,H.d,H.e]}})),$={key:"auth",storage:F.a,whitelist:["token"]},ee=Object(Q.a)({reducer:{auth:Object(H.g)($,m.b),contacts:z},middleware:_,devTools:!1}),te={store:ee,persistor:Object(H.h)(ee)},re=r(73);s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(K.a,null,o.a.createElement(g.a,{store:te.store},o.a.createElement(re.a,{loading:null,persistor:te.persistor},o.a.createElement(N,null))))),document.getElementById("root"))},12:function(e,t,r){"use strict";var n=r(3),c=Object(n.b)("contacts/addRequest"),a=Object(n.b)("contacts/addSuccess"),o=Object(n.b)("contacts/addError"),u=Object(n.b)("contacts/fetchRequest"),s=Object(n.b)("contacts/fetchSuccess"),i=Object(n.b)("contacts/fetchError"),l=Object(n.b)("contacts/removeRequest"),b=Object(n.b)("contacts/removeSuccess"),f=Object(n.b)("contacts/removeError"),d=Object(n.b)("contacts/filter");t.a={addContactRequest:c,addContactSuccess:a,addContactError:o,fetchContactsRequest:u,fetchContactsSuccess:s,fetchContactsError:i,removeContactRequest:l,removeContactSuccess:b,removeContactError:f,filterContacts:d}},38:function(e,t,r){e.exports={container:"UserMenu_container__GgYhE",avatar:"UserMenu_avatar__2e7Jj",name:"UserMenu_name__3e8KV"}},47:function(e,t,r){},69:function(e,t){e.exports="data:image/png;base64,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"},76:function(e,t,r){e.exports=r(109)},9:function(e,t,r){"use strict";r.d(t,"b",(function(){return h})),r.d(t,"a",(function(){return A})),r.d(t,"c",(function(){return U}));var n,c,a,o,u=r(3),s={registerRequest:Object(u.b)("auth/registerRequest"),registerSuccess:Object(u.b)("auth/registerSuccess"),registerError:Object(u.b)("auth/registerError"),loginRequest:Object(u.b)("auth/loginRequest"),loginSuccess:Object(u.b)("auth/loginSuccess"),loginError:Object(u.b)("auth/loginError"),logoutRequest:Object(u.b)("auth/logoutRequest"),logoutSuccess:Object(u.b)("auth/logoutSuccess"),logoutError:Object(u.b)("auth/logoutError"),getCurrentUserRequest:Object(u.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(u.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(u.b)("auth/getCurrentUserError")},i=r(4),l=r(7),b={name:null,email:null},f=Object(u.c)(b,(n={},Object(i.a)(n,s.registerSuccess,(function(e,t){return t.payload.user})),Object(i.a)(n,s.loginSuccess,(function(e,t){return t.payload.user})),Object(i.a)(n,s.logoutSuccess,(function(){return b})),Object(i.a)(n,s.getCurrentUserSuccess,(function(e,t){return t.payload})),n)),d=Object(u.c)(null,(c={},Object(i.a)(c,s.registerSuccess,(function(e,t){return t.payload.token})),Object(i.a)(c,s.loginSuccess,(function(e,t){return t.payload.token})),Object(i.a)(c,s.logoutSuccess,(function(){return null})),c)),g=Object(u.c)(null,(a={},Object(i.a)(a,s.registerError,(function(e,t){return t.payload})),Object(i.a)(a,s.loginError,(function(e,t){return t.payload})),Object(i.a)(a,s.logoutError,(function(e,t){return t.payload})),Object(i.a)(a,s.getCurrentUserError,(function(e,t){return t.payload})),a)),m=Object(u.c)(!1,(o={},Object(i.a)(o,s.registerSuccess,(function(){return!0})),Object(i.a)(o,s.loginSuccess,(function(){return!0})),Object(i.a)(o,s.getCurrentUserSuccess,(function(){return!0})),Object(i.a)(o,s.registerError,(function(){return!1})),Object(i.a)(o,s.loginError,(function(){return!1})),Object(i.a)(o,s.getCurrentUserError,(function(){return!1})),Object(i.a)(o,s.logoutSuccess,(function(){return!1})),o)),h=Object(l.c)({user:f,isAuthenticated:m,token:d,error:g}),j=r(18),O=r.n(j),p=r(29),E=r(22),v=r.n(E);v.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var S=function(e){v.a.defaults.headers.common.Authorization="Bearer ".concat(e)},C=function(){v.a.defaults.headers.common.Authorization=""},A={register:function(e){return function(){var t=Object(p.a)(O.a.mark((function t(r){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(s.registerRequest()),t.prev=1,t.next=4,v.a.post("/users/signup",e);case 4:n=t.sent,S(n.data.token),r(s.registerSuccess(n.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r(s.registerError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},logIn:function(e){return function(){var t=Object(p.a)(O.a.mark((function t(r){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(s.loginRequest()),t.prev=1,t.next=4,v.a.post("/users/login",e);case 4:n=t.sent,S(n.data.token),r(s.loginSuccess(n.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r(s.loginError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(s.logoutRequest()),e.prev=1,e.next=4,v.a.post("/users/logout");case 4:C(),t(s.logoutSuccess()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(s.logoutError(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var e=Object(p.a)(O.a.mark((function e(t,r){var n,c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r(),c=n.auth.token){e.next=3;break}return e.abrupt("return");case 3:return S(c),t(s.getCurrentUserRequest()),e.prev=5,e.next=8,v.a.get("/users/current");case 8:a=e.sent,t(s.getCurrentUserSuccess(a.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t(s.getCurrentUserError(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,r){return e.apply(this,arguments)}}()}},U={getIsAuthenticated:function(e){return e.auth.isAuthenticated},getUsername:function(e){return e.auth.user.name}}}},[[76,1,2]]]);
//# sourceMappingURL=main.11d8b386.chunk.js.map